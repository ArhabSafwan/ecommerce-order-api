# Senior Laravel Developer Assessment: E-Commerce API

This project implements a secure, role-based E-Commerce API built on the Laravel framework, focusing on clean architecture, robust security, and high-performance search capabilities, as required by the assignment brief.

## 6. Contact Information

| Detail          | Value             |
| :-------------- | :---------------- |
| Name            | [Your Name]       |
| Email           | [Your Email]      |
| GitHub Profile  | [Your GitHub Link]|

## 1. Project Overview and Features

This submission delivers the core foundation for the E-Commerce platform, prioritizing security and data management over the transactional workflow (Orders).

### Completed Core Features:

*   **Authentication (JWT):** Full token-based authentication using Laravel Sanctum/Passport (or equivalent JWT package) for secure API access.
*   **Authorization (RBAC):** Strict Role-Based Access Control enforced across all management endpoints for Admin, Vendor, and Customer roles.
*   **Vendor Security Scoping:** Implemented logic to ensure Vendors can only manage (view, update, delete) the products they own. Admins have unrestricted access.
*   **Product Management (CRUD):** Complete functionality for creating, reading, updating, and deleting Products and their associated Variants.
*   **High-Performance Search:** Product search functionality is implemented using MySQL Full-Text Search (FTS) in Boolean Mode for fast, relevant results.

### Architectural Focus:

The codebase adheres strictly to the Repository Pattern and utilizes Service Classes to separate business logic from the controller layer, ensuring maintainability and testability.

## 2. Local Setup Instructions (Step-by-Step)

Follow these steps to get the application running locally:

1.  **Clone the Repository:**
    ```bash
    git clone [YOUR_REPO_URL]
    cd [repo-name]
    ```
2.  **Install PHP Dependencies:**
    ```bash
    composer install
    ```
3.  **Setup Environment File:**
    ```bash
    cp .env.example .env
    ```
4.  **Generate Application Key:**
    ```bash
    php artisan key:generate
    ```
5.  **Configure Database and FTS:**
    Ensure your `.env` file points to a MySQL database. Crucially: Ensure your database service (e.g., Docker, XAMPP) is running.
6.  **Run Migrations and Seed Database**

    The migration includes the required `FULLTEXT` index.
    ```bash
    php artisan migrate --seed
    ```
    This seeds:
    *   Roles: Admin, Vendor, Customer
    *   Testing users

7.  **Generate JWT Secret Key (if using tymon/jwt-auth)**
    ```bash
    php artisan jwt:secret
    php artisan config:clear
    ```

8.  **Start the Local Server**
    ```bash
    php artisan serve
    ```

### 3. Environment Variables Documentation

Ensure the following variables exist in your `.env` file:

| Variable      | Description               | Example Value        |
| :------------ | :------------------------ | :------------------- |
| `APP_URL`     | Base URL for API          | `http://localhost:8000`  |
| `DB_CONNECTION` | Must be MySQL for FTS     | `mysql`              |
| `DB_DATABASE`   | Database name             | `ecommerce_api`      |
| `DB_USERNAME`   | DB username               | `root`               |
| `DB_PASSWORD`   | DB password               | `null` or your password |
| `JWT_SECRET`    | Required for JWT signing  | Generated by `jwt:secret` |

### 4. API Authentication Guide

This API is protected using JWT Bearer Tokens. All requests to protected endpoints must include the token in the `Authorization` header.

#### Quick Start: Get a Token

**Endpoint:**
```
POST /api/v1/auth/login
```

**Test Admin Credentials (from seeder):**
*   email: `asafwan72@gmail.com`
*   password: `12345678`

#### Using the Token

Include in all protected requests:
```
Authorization: Bearer [token_here]
```

#### Full Authentication Documentation

A complete breakdown of:
*   Roles
*   Access levels
*   Vendor scoping rules
*   All testing credentials

â€¦can be found in [`API_Authentication_Guide.md`](Documentation/API_Authentication_Guide.md).

### 5. Testing Instructions

To run unit tests for the Service and Repository layers:
```bash
php artisan test
```

Note: Due to time constraints, feature/integration tests for API endpoints are incomplete, but all core functionality has been validated using the provided Postman collection, which can be found [here](Documentation/ecommerce_api_postman_collection.json).
